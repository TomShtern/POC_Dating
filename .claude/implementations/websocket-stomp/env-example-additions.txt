# ========================================
# RABBITMQ STOMP CONFIGURATION
# ========================================
# Add to .env.example

# STOMP broker host (where STOMP plugin listens)
# Must be resolvable from Chat Service container
# - Development: localhost or rabbitmq (Docker service name)
# - Production: RabbitMQ hostname/IP
RABBITMQ_STOMP_HOST=rabbitmq
RABBITMQ_STOMP_PORT=61613

# Authentication credentials for service-to-broker STOMP connections
# These credentials authenticate the CHAT SERVICE to RabbitMQ STOMP broker
# (NOT client credentials - clients authenticate separately via JWT)
RABBITMQ_STOMP_CLIENT_LOGIN=guest
RABBITMQ_STOMP_CLIENT_PASSCODE=guest

# Optional: System-level credentials for system messages
# Leave empty to use client credentials for system messages
RABBITMQ_STOMP_SYSTEM_LOGIN=
RABBITMQ_STOMP_SYSTEM_PASSCODE=

# Connection pool settings
# - Increase connection-pool-size for higher message throughput
# - Decrease heartbeat-interval for faster failure detection (higher overhead)
# - Increase heartbeat-tolerance to be more lenient (lower false positives)
RABBITMQ_STOMP_CONNECTION_POOL_SIZE=5
RABBITMQ_STOMP_HEARTBEAT_INTERVAL=60000
RABBITMQ_STOMP_HEARTBEAT_TOLERANCE=180000
RABBITMQ_STOMP_RECONNECT_DELAY=5000

# Broker type: "simple" (development) or "stomp" (production)
# - simple: In-memory broker, fast, not scalable
# - stomp: RabbitMQ-backed, scalable, suitable for multi-instance
WEBSOCKET_BROKER_TYPE=stomp

# ========================================
# WEBSOCKET CONFIGURATION
# ========================================

# Allowed origins for WebSocket connections (comma-separated)
# In development: http://localhost:8090,http://localhost:3000
# In production: https://yourdomain.com
WEBSOCKET_ALLOWED_ORIGINS=http://localhost:8090,http://localhost:3000
